<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet"
  href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
  <script type="text/javascript">
  function chkpwd(obj)
  {
    var t=obj.value;
    var id=getResult(t);
  //定义对应的消息提示
    var msg=new Array(4);
    msg[0]="密码过短。";
    msg[1]="密码强度差。";
    msg[2]="密码强度良好。";
    msg[3]="密码强度高。";

    var Bobj=document.getElementById("chkResult");

    Bobj.innerHTML="检测提示：" + msg[id];
    var btn1=document.getElementById('btn1');
    if(id>=2 ){
      btn1.disabled=false;
    }
    var btn2=document.getElementById('btn2');
    if(id>=2 ){
      btn2.disabled=false;
    }
  }
  //定义检测函数,返回0/1/2/3分别代表无效/差/一般/强
  function getResult(s)
  {
    if(s.length < 8)
    {
      return 0;
    }
    var ls = 0;
    if (s.match(/[a-z]/ig))
    {
      ls++;
    }
    if (s.match(/[0-9]/ig))
    {
      ls++;
    }
    if (s.match(/(.[^a-z0-9])/ig))
    {
      ls++;
    }
    if (s.length < 6 && ls > 0)
    {
      ls--;
    }
    return ls
  }

  function firm1() {
          //利用对话框返回的值 （true 或者 false）
          if(document.getElementById("a").value==document.getElementById("b").value )
          {
            alert("注册成功");
            window.location.href = "用户登录界面.html"
          }
          else
          {
            alert("两次输入不相同，请重新输入");
            window.location.href ="用户注册界面.html";
          }
      }
  function firm2() {
              //利用对话框返回的值 （true 或者 false）
              if(document.getElementById("a").value==document.getElementById("b").value )
              {
                alert("合法用户");
                //window.location.href = "用户登录界面.html"
              }
              else
              {
                alert("两次输入不相同，请重新输入");
                //window.location.href ="用户注册界面.html";
              }
          }
  </script>
</head>

<body>

<div class="container">
<div class="jumbotron">
  <h1 align="center">注册</h1>
  <p align="center">请正确输入帐号和密码</p>
</div>
</div>

  <div align="center">
  <div class="container">
  <form action="register.php">
  用户名：<br>
  <input type="text" name="Email">
  <br>
  邮箱:<br>
  <input type="text" name="Email">
  <br>
  密码:<br>
  <input type="password" name="pwd" onKeyUp="chkpwd(this)" id="a"/>
  <div id="chkResult"></div>
  确认密码:<br>
  <input type="password" name="password2" id="b">
  <br>
<input type="submit" value="注册" id="btn1" disabled="disabled"
onclick="firm1()"/>
<input type="button" value="检测" id="btn2"  disabled="disabled"
onclick="firm2()"/>
  </form>
</div>

</body>
</html>
